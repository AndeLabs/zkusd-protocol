# zkUSD Token Deployment Spell
# Creates an NFT charm with the initial Token state
#
# Token VK: 7d1a06745a94adf1195fb9f2f987cb48b8c46b814f53167c619c9175cd406903
# App ID: a6b3570c84064d72dc6687d0309154469efa6a427fd3c1691e656d6172455c82
#
# IMPORTANT: authorized_minter = VaultManager VK

version: 8

apps:
  # Token as NFT: n/{app_id}/{vk}
  $00: n/a6b3570c84064d72dc6687d0309154469efa6a427fd3c1691e656d6172455c82/7d1a06745a94adf1195fb9f2f987cb48b8c46b814f53167c619c9175cd406903

# Witness data - Initialize operation
private_inputs:
  $00:
    # op code 0x00 = Initialize
    op: 0
    # VaultManager VK as authorized_minter (32 bytes)
    authorized_minter: [86, 255, 38, 54, 196, 209, 28, 174, 237, 138, 144, 166, 8, 231, 192, 103, 146, 142, 83, 104, 243, 22, 109, 73, 91, 133, 190, 144, 175, 101, 156, 68]

ins:
  # Input UTXO from split transaction
  - utxo_id: 7f0152ad9d97244f60e3fb680d35bd3268fa7634e5bf61055d4f28d6ad0e4420:0
    charms: {}

outs:
  # Output with Token charm containing initial ZkUsdTokenState
  - address: tb1qr25l2p34sv4wnz4q0cuh4g9jd9qh2eua6y5awq
    charms:
      $00:
        # ZkUsdTokenState struct
        # VaultManager VK as authorized_minter (32 bytes)
        authorized_minter: [86, 255, 38, 54, 196, 209, 28, 174, 237, 138, 144, 166, 8, 231, 192, 103, 146, 142, 83, 104, 243, 22, 109, 73, 91, 133, 190, 144, 175, 101, 156, 68]
        # Initial total supply = 0
        total_supply: 0
