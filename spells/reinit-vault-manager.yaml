# Reinitialize VaultManager with CORRECT cross-references
#
# PROBLEM: VM was deployed with VKs instead of App IDs for:
#   - zkusd_token_id
#   - stability_pool_id
#   - price_oracle_id
#
# FIX: Reinitialize with correct App IDs
#
# VM: n/00ea074d57b6fac189b04c98db5f99883d2ece013ac9cb9075449c5c6df86283/3a6a02f4fe4b4b61f03018cabb7995240799fac45323ff766f9ecc3398bb7874
# Current UTXO: d118d9ab4f2c75b300e29182ef0d2d52ee70761adb38e1e3856f3c0d7dd1b59e:0

version: 8

apps:
  $VM: n/00ea074d57b6fac189b04c98db5f99883d2ece013ac9cb9075449c5c6df86283/3a6a02f4fe4b4b61f03018cabb7995240799fac45323ff766f9ecc3398bb7874

private_inputs:
  $VM:
    op: 0  # Initialize
    admin: [213, 79, 168, 49, 172, 25, 87, 76, 85, 3, 241, 203, 213, 5, 147, 74, 11, 171, 60, 238, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    # CORRECT: Token App ID
    zkusd_token_id: [167, 0, 210, 31, 55, 115, 135, 169, 78, 150, 57, 26, 45, 184, 198, 41, 222, 219, 27, 134, 225, 182, 56, 220, 132, 217, 68, 208, 71, 232, 71, 90]
    # CORRECT: StabilityPool App ID
    stability_pool_id: [193, 28, 84, 81, 200, 52, 245, 78, 213, 98, 39, 179, 251, 72, 211, 102, 222, 44, 19, 156, 42, 15, 85, 154, 238, 191, 180, 90, 248, 160, 103, 191]
    # CORRECT: Oracle App ID
    price_oracle_id: [38, 24, 109, 124, 39, 187, 40, 116, 141, 30, 200, 155, 161, 251, 96, 18, 93, 138, 37, 109, 253, 154, 151, 130, 150, 170, 89, 248, 199, 233, 232, 181]
    active_pool: [172, 79, 168, 49, 172, 25, 87, 76, 85, 3, 241, 203, 213, 5, 147, 74, 11, 171, 60, 238, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    default_pool: [222, 250, 168, 49, 172, 25, 87, 76, 85, 3, 241, 203, 213, 5, 147, 74, 11, 171, 60, 238, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

ins:
  - utxo_id: d118d9ab4f2c75b300e29182ef0d2d52ee70761adb38e1e3856f3c0d7dd1b59e:0
    charms:
      $VM:
        # Current (wrong) state with VKs
        protocol:
          total_collateral: 0
          total_debt: 0
          active_vault_count: 0
          base_rate: 50
          last_fee_update_block: 0
          admin: [213, 79, 168, 49, 172, 25, 87, 76, 85, 3, 241, 203, 213, 5, 147, 74, 11, 171, 60, 238, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
          is_paused: false
        zkusd_token_id: [53, 85, 24, 198, 100, 190, 29, 215, 249, 249, 194, 131, 254, 178, 196, 138, 223, 59, 170, 69, 200, 142, 4, 50, 79, 181, 47, 193, 29, 98, 82, 53]
        stability_pool_id: [172, 226, 137, 69, 133, 248, 130, 10, 59, 35, 10, 181, 122, 36, 223, 53, 222, 29, 212, 183, 35, 77, 157, 56, 189, 231, 143, 166, 67, 135, 23, 82]
        price_oracle_id: [180, 77, 176, 122, 193, 105, 119, 4, 234, 113, 112, 244, 232, 87, 197, 12, 69, 69, 240, 222, 0, 223, 204, 17, 131, 93, 198, 239, 176, 194, 124, 50]
        active_pool: [172, 79, 168, 49, 172, 25, 87, 76, 85, 3, 241, 203, 213, 5, 147, 74, 11, 171, 60, 238, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        default_pool: [222, 250, 168, 49, 172, 25, 87, 76, 85, 3, 241, 203, 213, 5, 147, 74, 11, 171, 60, 238, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

outs:
  - address: tb1qr25l2p34sv4wnz4q0cuh4g9jd9qh2eua6y5awq
    charms:
      $VM:
        # CORRECT state with App IDs
        protocol:
          total_collateral: 0
          total_debt: 0
          active_vault_count: 0
          base_rate: 50
          last_fee_update_block: 0
          admin: [213, 79, 168, 49, 172, 25, 87, 76, 85, 3, 241, 203, 213, 5, 147, 74, 11, 171, 60, 238, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
          is_paused: false
        zkusd_token_id: [167, 0, 210, 31, 55, 115, 135, 169, 78, 150, 57, 26, 45, 184, 198, 41, 222, 219, 27, 134, 225, 182, 56, 220, 132, 217, 68, 208, 71, 232, 71, 90]
        stability_pool_id: [193, 28, 84, 81, 200, 52, 245, 78, 213, 98, 39, 179, 251, 72, 211, 102, 222, 44, 19, 156, 42, 15, 85, 154, 238, 191, 180, 90, 248, 160, 103, 191]
        price_oracle_id: [38, 24, 109, 124, 39, 187, 40, 116, 141, 30, 200, 155, 161, 251, 96, 18, 93, 138, 37, 109, 253, 154, 151, 130, 150, 170, 89, 248, 199, 233, 232, 181]
        active_pool: [172, 79, 168, 49, 172, 25, 87, 76, 85, 3, 241, 203, 213, 5, 147, 74, 11, 171, 60, 238, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        default_pool: [222, 250, 168, 49, 172, 25, 87, 76, 85, 3, 241, 203, 213, 5, 147, 74, 11, 171, 60, 238, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
